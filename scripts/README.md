# RatSLAM Scripts

This folder contains utility scripts for processing data in the RatSLAM pipeline.

## Suggested Folder Structure
ratslam/
├── 📁 scripts/ # Main script location
│ ├── 📄 extract_gps_data.py        # Extract GPS to csv 
│ └── 📄 extract_topics.py          # Extract data from topological messages to csv files
│ └── 📄 extract_nodes_edges_map.py # Extract data from topological map message
│ └── 📄 show_deadereckoning.m      # Plot odometry without correction 
│ └── 📄 lat_long_to_cartesian.m    # Matlab function to convert lat/lon to cartesian (m)
│ └── 📄 show_em.py                 # Plot experience map evolution over time
| └── 📄 show_id.py                 # Plot template and experiences created over time
│ └── 📁 exported_data/             # CSV exported data files
│ └── 📁 output_bags/               # Bags recorded from RatSLAM
| │ └── 📁 bag_dataset1/                    # bag ffolder example
| | | └── 📄 metadata.yaml              
| | | └── 📄 bag_dataset1.db3
│ └── 📁 Figures/                   # Figures and video generated by Matlab scripts
| | └── 🖼️  Final_Exp_map.png               # Experience map figure
| | └── 🖼️  Final_Exp_map.eps
| | └── 🎞️  experience_map_evolution.avi    # Animation video                
| | ...
| │ └── 📁 map_evolution/           # To save partial figures of map evolution                           

### Core Requirements
- Python 3.8+
- pip package manager

### ROS 2 Dependencies
- ROS 2 Humble or Rolling (recommended)
- `rosbag2` package:
  ```bash
  sudo apt-get install ros-$ROS_DISTRO-rosbag2

## Scripts Overview

### `extract_gps_data.py`
Extracts GPS data from ROS 2 bag files and exports it to CSV format.


#### Usage:
```bash
python3 extract_gps_data.py <path_to_ros2_bag> --topic <gps_topic_name> --gps_data <output_csv_path>
```

#### Parameters:
| Argument          | Type    | Default      | Description                                           |
|-------------------|---------|--------------|-------------------------------------------------------|
| `input_path`      | string  | -            | Path to ROS 2 bag folder (must contain metadata.yaml) |
| `--topic`, `-t`   | string  | `/gps/fix`   | ROS topic to process                                  |
| `output_path`     | string  | `gps.csv`    | output file for gps data CSV                          |

#### Example:

```bash
python3 extract_gps_data.py ../../../bags/20250416_131706_bag_ros2 --topic /surveyor/gps_fix --gps_data exported_data/gps.csv
```




